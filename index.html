<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
    
    
      <link href="/css/fonts.css" rel="stylesheet" type="text/css">
    
  

  
  <title>Mingliang&#39;s Blog</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  

  
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
  

  
  <link href="https://mingliang.pro/favicon.png" rel="icon">

  
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Mingliang&#39;s Blog" />

  <meta name="description" content="Tan Mingliang &#39;s Blog" />
  <meta name="keywords" content="[Tan Mingliang Mingliang Tan Steven Tan PHP Go Rust Microservices Architecture]">
  <meta name="author" content="Mingliang">

  
  <meta name="generator" content="Hugo 0.64.0" />

  
  

  
  
</head>
<body>


<header role="banner">
<hgroup>
  
  <h1><a href="https://mingliang.pro/">Mingliang&#39;s Blog</a></h1>
    <h2>The only way to do great work is to love what you do. If you haven&#39;t found it yet, keep looking. - Steve Jobs</h2>
</hgroup></header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      
        <option value="https://mingliang.pro/">» Blog</option>
      
        <option value="https://github.com/didi/rdebug">» Rdebug</option>
      
        <option value="https://mingliang.pro/tags">» Tags</option>
      
        <option value="https://mingliang.pro/about/">» About Me!</option>
      
  </select>
</fieldset>


<ul class="main-navigation">
  
  
    
      <li><a href="https://mingliang.pro/" title="Blog">Blog</a></li>
    
  
    
      <li><a href="https://github.com/didi/rdebug" title="Rdebug"  target="_blank" >Rdebug</a></li>
    
  
    
      <li><a href="https://mingliang.pro/tags" title="Tags"  target="_blank" >Tags</a></li>
    
  
    
      <li><a href="https://mingliang.pro/about/" title="About Me!"  target="_blank" >About Me!</a></li>
    
  
</ul>

<ul class="subscription">
  
    
        <a href="https://mingliang.pro/index.xml" target="_blank" type="application/rss+xml" title="RSS"><i class="fa fa-rss-square fa-lg"></i></a>
    
  
</ul>


  <form action="https://www.google.com/search" method="get" target="_blank">
    <fieldset role="search">
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
      <input type="hidden" name="q" value="site:https://mingliang.pro/" />
    </fieldset>
  </form>

</nav>




  

<div id="main">
  <div id="content">
    <div class="blog-index">
      
      
      <article>
        
        

<header>
  <p class="meta">Jan 23, 2020
    
     - <a href="https://mingliang.pro/blog/2020-01-23-2020-%E4%BB%A5%E6%A2%A6%E4%B8%BA%E9%A9%AC%E4%B8%8D%E8%B4%9F%E9%9F%B6%E5%8D%8E/#disqus_thread">Comments</a>

    
  </p>
  <h1 class="entry-title">
    <a href="https://mingliang.pro/blog/2020-01-23-2020-%E4%BB%A5%E6%A2%A6%E4%B8%BA%E9%A9%AC%E4%B8%8D%E8%B4%9F%E9%9F%B6%E5%8D%8E/">2020 以梦为马，不负韶华</a>
  </h1>
</header>

        
          <p>2019 年是一个忙碌的一年，有得有失，整体还算比较满意。</p>
<h2 id="工作">工作</h2>
<p>19 年是工作以来最忙的一年，除了负责团队内事务，还重点参与 H&amp;B 两个项目。</p>
<p>期间读过一本书《能力陷阱》，有句话分享下：</p>
<blockquote>
<p>我们很乐于去做那些我们擅长的事，于是就会一直去做，最终就使得我们会一直擅长那些事。做得越多，就越擅长，越擅长就越愿意去做。这样的一个循环能让我们在这方面获得更多的经验，但却容易陷入能力陷阱，在其他方面无法突破。</p>
</blockquote>
<p>回顾过去的职业规划，一方面在培养核心竞争力，另一方面在避免能力陷阱。不断的学习、打开见识、打破自己的舒适区。</p>
<h3 id="技术">技术</h3>
<ul>
<li>PHP &amp; Go &amp; Rust</li>
</ul>
<p>前几年一直关注 PHP 和 Go 领域，但在 PHP 生态、框架、组件、语言实现（内核）等方向花的时间比较多，加上几个扩展的开发经历，对 PHP 了解也越来越深入。</p>
<p>18 年中开始，逐步加大对 Go、Rust、系统架构等领域的关注度。PHP 内核会作为兴趣，持续关注、学习、应用。Go 重点关注 Gin 主流框架，不会在其他框架、组件等花费太多的精力，集中精力在 Go 底层实现（语言原理都是相通的，学习迁移）、Go 应用方向（K8s）。</p>
<p>Rust 作为一门感兴趣的语言，保持熟悉度，以后会用上，现开发一些工具练手。</p>
<p>在公司内，尽量采用开源实现，避免重复造轮。在使用开源的同时，也鼓励回源（反馈）开源。</p>
<ul>
<li>HTTP/2</li>
</ul>
<p>一直关注 HTTP 发展趋势，特意学习下 HTTP/2，发现 HTTP/2 针对 HTTP/1.* 做了很多改进，像二进制协议、多路复用、首部压缩、Server Push 等特性，很有升级的价值。</p>
<p>很多 HTTP 请求都是短连接，每个请求的响应体不大，即使带宽很大，由于 TCP 拥塞窗口、慢启动等设计，协商的过程中还没等量起来响应就发送完，往往不能充分利用大带宽的优势。</p>
<p>由于多种原因，特别是 TCP 属于内核，UDP 属于用户态，为了获得更多的控制权，HTTP/3 QUIC 不在使用 TCP 而是基于 UDP 实现 TCP 栈，作为底层传输层协议。</p>
<p>结合公司现状来看，升级到 HTTP/2 意义不大。因为很多服务都走长连接通道，由长连接在转发为 HTTPS 请求。现有方式传输效率高，所以切到 HTTP/2 动力不大。另一部分原因是现有架构对基础设施的依赖，导致额外的迁移成本。所以，HTTP/2 暂时不可推行。</p>
<ul>
<li>GraphQL</li>
</ul>
<p>GraphQL 是一个 Graph Query Language，即图查询语言、API 查询语言，有自己的 SDL （Schema Define Language）。特别适合存在图关系的数据的查询。</p>
<p>常规的 RESTful API，每个 API 负责请求一种类型的对象，但这往往不能满足需求，因为一个页面或者功能，需要请求多次 API，甚至多次请求间存在依赖关系。这就导致效率很低。</p>
<p>另外一种解决方案是，提供一个大 API，后端获取、整合所有的数据后返回。这就涉及到可维护性的问题，譬如每次新增需求，大家都要改这个 API，就会导致这个 API 越来越复杂、职责越来越不清晰、可维护性越来越差、数据越来越多、性能越来越差&hellip;</p>
<p>Facebook 开源 GraphQL 的解法是，后端通过 SDL 定义好所有对外的数据/对象，前端或者端在请求时，可以按需选择需要的数据和响应结构。后端收到请求后，校验数据等，按照对应的结构响应数据。简单点说，后端提供数据和数据间的关系，前端或端需要哪些数据、哪种响应结构，都是由请求发起方说了算。当新增需求时，后端新增一个数据对象和关系，前端或端在查询语句中，新增一个查询字段以及到新字段的“边”即可。甚至新增需求时，前端或端复用已经的后端数据，就能满足需求，不需要后端额外开发、新增接口等。</p>
<p>GraphQL 已经在很多大型公司中使用，它是一个运行时和现有的基础设施不冲突。</p>
<p>要在公司推行 GraphQL 关键的成本在于，把现有的系统（各种大 API）改造成面向图、面向领域数据的形式，且前端、端按照新的方式查询数据，成本略大，对于新项目可以试一试。</p>
<ul>
<li>混沌工程</li>
</ul>
<p>随着微服务架构盛行，一个复杂的系统，可能存在上千个微服务。面对如此庞大的系统，即使多个架构师也很难 Cover 住。</p>
<p>面对如此交错复杂、庞大的系统，如何保证稳定性？面对失控，这个时候就需要混沌工程，混沌工程是基于一些准则，在线上通过做实验的方式，找出潜在未知的风险，从而解决它，提升系统的稳定性。</p>
<p>混沌工程的前提需要系统足够弹性（别搞个实验就把系统搞挂了）、完善的监控（没有监控就不能发现问题，更无法指导、解决问题）。当然，基建也少不了，譬如故障注入工具、混沌猴子、混沌金刚等。</p>
<p>由于混沌工程是在线上做实验，肯定是有风险的，这往往会导致很多公司不愿意尝试。所以，在一个有混沌工程文化的公司里，要更好推广一些。国外很多公司 Google、Facebook，国内阿里等，都有混沌工程。</p>
<p>在做 B 项目的时候，发现涉及到的服务接近 2000个（还好大部分服务都是边边角角，不会影响到核心主流程），感觉离混沌已经不远了。</p>
<p>公司线上环境有全链路压测通道、压测工具、做混沌工程是有优势的。混沌工程先搞基建、在自己的团队里、先在测试环境中、小范围进行。</p>
<ul>
<li>容器编排</li>
</ul>
<p>容器编排、K8s、Service Mesh 等关键词已经很火了！</p>
<p>目前公司物理机比较多，私有云成本还能接受，“也不缺钱”。但长远来看，这个方向是个趋势，对节约成本、提升资源利用率、研发效率、稳定性也有帮助。</p>
<p>学习研究中，结合公司现状，探索如何更好的在公司内应用起来。</p>
<h3 id="项目">项目</h3>
<p><strong>H</strong>：是一个特别棒的机会，一方面，深入了解业务；另一方面，重新学习和思考出行系统的整体架构。全人力、全流程参与到产品需求评审、方案设计、技术研发、沟通协作、监控报警、运维部署、全链路压测&hellip;涉及到公司内中台服务、基础服务、基础设施，还有大量第三方云服务。了解公有云产品，设计公有云架构，用公有云服务构建系统。基本上经历了一把从0到1的创业过程，从中学会很多，也认识很多优秀的同学。</p>
<p><strong>B</strong>：如果说 H 是从0到1，那么 B 应该是从0到10。B 更庞大、更复杂、更不可控、沟通成本高。在 B 项目中负责一个方向，关注产品需求评审、预期管理、关键方案设计、沟通协作、项目管理、风险把控等方面。好在大家齐心协力，朝着好的方向发展。</p>
<p>除了 PMO 机制和内部工具之外，两个项目还通过 OmniPlan 进行依赖梳理、任务优先级、人力评估、甘特图、关键路径识别，保证项目高质、高效、可度量、如期交付。</p>
<p>项目期间加班熬夜是常态，经常打车回去的路上睡着。19 年年假没有修，还新增近20天调休。虽然累，但一切都朝着正确的方向一起努力，一切都是值得的。能参与到这些项目，还得感谢几位老板的信任、支持和授权。</p>
<h3 id="管理">管理</h3>
<p>最近在看《The Manager&rsquo;s Path》这本书，没有中文版，看的英文版。</p>
<p>这本书和其他的管理类书籍不同之处是，讲的是互联网、IT 公司的管理，特别适合互联网从业人员。分别从 Mentoring、Tech Lead、Managing People、Managing a Team、Managing Multiple Teams、Managing Managers、Big Leagues&hellip;一步一步进阶、介绍各阶段工作内容、重点、潜在的问题及解决之道等，没有半点废话。已看完 Managing a Team，阅读这本书的过程中有种翻译的冲动。</p>
<p>回想 18 年对同学要求过于严苛、苛刻，这块做的不够好，已经改进（可能骨子里 Top 10 有完美、追求等特性——优势识别器）。对照这本书逐项检查自己的经历，还有很大的提升空间（目前也不差☺）。今后会查漏补缺，在交流、指导、反馈、培训、晋升、职业发展等多方面关注，做一位 Valuable 管理者。</p>
<h2 id="生活">生活</h2>
<p>生活上最重要的事情，是迎来了我们的 Baby。</p>
<p>周日晚上11点，媳妇突然开始疼痛、越来越频繁。由于事先做好演练，很快收拾完待产包，打上滴滴去北医三院，一路上内心无比激动和忐忑。经历了两夜一天漫长而满怀期待的等待，终于在周二上午迎来了我们的 Baby。</p>





<span class="caption-wrapper">
  <img class="caption" src="/images/yc/xiaoxin.jpg" title="小新" alt="小新">
  <span class="caption-text">小新</span>
</span>

<p>从此当上奶爸，学会喂奶、拍嗝、换尿不湿、飞机抱、洗澡、抚触、做辅食。陪他玩、逗他笑、读故事、学说话、玩玩具，陪伴他成长。每次看到他学会新技能，翻身、会爬、会互动，都会无比激动和开心。</p>
<p>这小子最近迷恋上了敲键盘，这手势、手速相当犀利，一顿操作猛如虎 ☺</p>
<p>19 年太忙错过很多瞬间，希望 20 年能有更多的时间陪伴家人。</p>
<h2 id="学习">学习</h2>
<h3 id="19-年阅读完清单">19 年阅读完清单</h3>
<ul>
<li>微服务架构设计模式</li>
<li>微服务设计</li>
<li>混沌工程</li>
<li>图解密码技术</li>
<li>HTTP/2 基础教程</li>
<li>GraphQL 学习指南</li>
<li>深入浅出 Rust</li>
<li>Go 语言核心编程</li>
<li>能力陷阱</li>
<li>见识</li>
<li>习惯的力量</li>
</ul>
<h3 id="19-年参考书籍">19 年参考书籍</h3>
<ul>
<li>Autotools</li>
<li>Go 语言高级编程</li>
<li>Docker 技术入门与实战</li>
<li>程序员进阶心法</li>
<li>The Rust Programming Language</li>
<li>Rust by Example</li>
</ul>
<h2 id="开源">开源</h2>
<h3 id="rdebug">Rdebug</h3>
<p>年初和<a href="https://github.com/taowen">陶文</a>开源 <a href="https://github.com/didi/rdebug">Rdebug</a>。最开始是在公司内部使用的工具，外面问的人多了，最后陶公子提议 Koala 和 Midi 一起开源，取名 Rdebug。</p>
<p>开源后由于团队内项目紧张、人力等问题，没有更新新功能、新版本。今年会调研 Web UI 交互、并行回放、新接口回放等功能，在社区运营等方面也会发力。</p>
<p>其他开源项目，之前规划过 <strong>冗余代码清理工具</strong> 开源，涉及到 PHP 扩展采集、函数级依赖分析（AST）、删代码工具（AST）等。先后经历过 3 轮方案升级，累计删除有 40 多万行代码。最新方案在多个服务实践，其中一个模块一天删除 2万行废弃代码、一周内上线，上线后没有报错、回滚。因为 PHP 是一门弱语言，最新方案中还会有少量人工确认的环节（已经降至最低）；依赖分析除了通用能力，也会涉及到和框架相关的定制开发。后面会写一篇介绍方案的文章，由于上述原因和人力情况，暂无开源计划。</p>
<h2 id="20-年阅读计划">20 年阅读计划</h2>
<p>工作规划不方便，分享一些阅读计划吧，强烈推荐两本书：</p>
<ul>
<li>
<p>The Manager&rsquo;s Path [Chapter5 Done, Hold]</p>
<p>技术方向的管理类书籍，提供指导、不同阶段不同关注点、各种问题的解决之道等，没有一句废话。豆瓣评分 9.5 分，强烈推荐。</p>
</li>
<li>
<p>数据密集型应用系统设计 [ing]</p>
<p>数据密集型应用设计、分布式系统、技术方案选型和对比、潜在的风险等。豆瓣评分 9.6 分，强烈推荐。</p>
</li>
</ul>
<p>重点阅读清单：</p>
<ul>
<li><a href="https://book.douban.com/subject/30418855/">Kubernetes in Action</a> [ing]</li>
<li><a href="https://book.douban.com/subject/26938710/">系统架构</a></li>
<li><a href="https://book.douban.com/subject/27608239/">原则</a></li>
<li><a href="https://book.douban.com/subject/11528220/">系统之美</a></li>
<li><a href="https://book.douban.com/subject/30331613/">写作提高一点点</a></li>
</ul>
<p>其他阅读清单：</p>
<ul>
<li>分布式系统应用设计 [ing]</li>
<li>深入浅出 Docker</li>
<li>演进式架构</li>
<li>生产微服务</li>
<li>人类简史</li>
<li>影响力 [ing]</li>
<li>金字塔原理</li>
<li>非暴力沟通</li>
<li>关键对话</li>
<li>终身成长</li>
<li>你的灯亮着吗</li>
<li>6.824: Distributed Systems</li>
</ul>
<p>2020 年以梦为马，不负韶华。</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Apr 2, 2019
    
     - <a href="https://mingliang.pro/blog/2019-04-02-first-blog-post/#disqus_thread">Comments</a>

    
  </p>
  <h1 class="entry-title">
    <a href="https://mingliang.pro/blog/2019-04-02-first-blog-post/">First Blog Post</a>
  </h1>
</header>

        
          <p>Blog 终于和大家见面了。</p>
<p>我将在这里和大家分享工作、学习中遇到的问题、解决方案、知识点等。分享的内容不限于 PHP，还会涉及 C，Go，Rust 等语言。包括：框架、组件、包管理、PHP 内核、扩展开发、工具等多个方向。</p>
<p>欢迎大家评论和留言。</p>

        
      </article>
      
      
      






  
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    
      <h1>Who am I?</h1>
    

    <p>
      
        I&rsquo;m <strong>Tan Mingliang</strong>, a Back-End Software Engineer at <a href="https://www.didiglobal.com/">DiDiGlobal</a>.
<!-- raw HTML omitted --><!-- raw HTML omitted -->
If you want to know more, click on <a href="/about/">About Me!</a>.
      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/MingliangT/" title="https://github.com/MingliangT/"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/MingliangT/" title="https://twitter.com/MingliangT/"><i class="fa fa-twitter fa-3x"></i></a>
      
         
      
      <a target="_blank" href="https://www.linkedin.com/in/tanmingliang/" title="https://www.linkedin.com/in/tanmingliang/"><i class="fa fa-linkedin fa-3x"></i></a>
      <a target="_blank" href="https://stackoverflow.com/users/1319979" title="https://stackoverflow.com/users/1319979"><i class="fa fa-stack-overflow fa-3x"></i></a>
      
      
      
      
      

    
    
    </li>
  </ul>

  

  
    
      <section class="odd">
        
          <h1>Collections</h1>
        
        
          <li>
            <a href="https://mingliang.pro/categories/php/" title="PHP" >PHP</a>
          </li>
        
          <li>
            <a href="https://mingliang.pro/categories/go/" title="Go" >Go</a>
          </li>
        
          <li>
            <a href="https://mingliang.pro/categories/rust/" title="Rust" >Rust</a>
          </li>
        
          <li>
            <a href="https://mingliang.pro/categories/microservices/" title="Microservices" >Microservices</a>
          </li>
        
          <li>
            <a href="https://mingliang.pro/categories/architecture/" title="Architecture" >Architecture</a>
          </li>
        
      </section>
    
  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/blog/2020-01-23-2020-%E4%BB%A5%E6%A2%A6%E4%B8%BA%E9%A9%AC%E4%B8%8D%E8%B4%9F%E9%9F%B6%E5%8D%8E/">2020 以梦为马，不负韶华</a>
              </li>
            
          
            
          
            
              <li class="post">
                <a href="/blog/2019-04-02-first-blog-post/">First Blog Post</a>
              </li>
            
          
        </ul>
      </section>
    
  
</aside>
    
  </div>
</div>
    <footer role="contentinfo">
      <p>Copyright &copy; 2020 Mingliang - <a href="https://mingliang.pro/license/">License</a> -
        <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
      </p>
    </footer>

    
    
    

    
  </body>
</html>
   

